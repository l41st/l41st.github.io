import{S,i as j,s as H,e as f,h as v,b as _,f as $,j as d,n as z,g as k,k as M,o as G,l as L,p as B,q as C,r as D,M as F,c as O,m as T,t as q,a as N,d as E}from"./index.e4abaae8.js";import{S as I}from"./supabase.crud.f65ffee2.js";import{o as J}from"./organizations.api.f1b62c3e.js";class K extends I{constructor(){super("callings")}}const P=new K;function x(o,t,e){const n=o.slice();return n[11]=t[e],n}function Q(o){let t;return{c(){t=L("No Data")},m(e,n){$(e,t,n)},p:z,d(e){e&&k(t)}}}function R(o){let t,e,n,s,c,r=o[1],l=[];for(let a=0;a<r.length;a+=1)l[a]=A(x(o,r,a));return{c(){t=f("div"),e=f("table"),n=f("thead"),n.innerHTML=`<tr><th scope="col">Organization</th> 
              <th scope="col">Name</th> 
              <th scope="col">Member</th> 
              <th class="text-end" scope="col">Actions</th></tr>`,s=v(),c=f("tbody");for(let a=0;a<l.length;a+=1)l[a].c();_(e,"class","table"),_(t,"class","table-responsive scrollbar")},m(a,u){$(a,t,u),d(t,e),d(e,n),d(e,s),d(e,c);for(let i=0;i<l.length;i+=1)l[i].m(c,null)},p(a,u){if(u&2){r=a[1];let i;for(i=0;i<r.length;i+=1){const g=x(a,r,i);l[i]?l[i].p(g,u):(l[i]=A(g),l[i].c(),l[i].m(c,null))}for(;i<l.length;i+=1)l[i].d(1);l.length=r.length}},d(a){a&&k(t),B(l,a)}}}function U(o){let t;return{c(){t=L("Loading ...")},m(e,n){$(e,t,n)},p:z,d(e){e&&k(t)}}}function A(o){let t,e,n=o[11]?.organization?.name+"",s,c,r,l=o[11].name+"",a,u,i,g=o[11].member_id+"",y,m,h,w;return{c(){t=f("tr"),e=f("td"),s=L(n),c=v(),r=f("td"),a=L(l),u=v(),i=f("td"),y=L(g),m=v(),h=f("td"),h.innerHTML=`<div><button class="btn btn-link p-0" type="button" data-bs-toggle="tooltip" data-bs-placement="top" title="Edit"><span class="text-500 fas fa-edit"></span></button> 
                    <button class="btn btn-link p-0 ms-2" type="button" data-bs-toggle="tooltip" data-bs-placement="top" title="Delete"><span class="text-500 fas fa-trash-alt"></span></button></div>`,w=v(),_(h,"class","text-end")},m(p,b){$(p,t,b),d(t,e),d(e,s),d(t,c),d(t,r),d(r,a),d(t,u),d(t,i),d(i,y),d(t,m),d(t,h),d(t,w)},p(p,b){b&2&&n!==(n=p[11]?.organization?.name+"")&&C(s,n),b&2&&l!==(l=p[11].name+"")&&C(a,l),b&2&&g!==(g=p[11].member_id+"")&&C(y,g)},d(p){p&&k(t)}}}function V(o){let t,e,n,s;function c(a,u){return a[0]?U:a[1]&&a[1].length?R:Q}let r=c(o),l=r(o);return{c(){t=f("div"),e=f("div"),e.innerHTML='<div class="row flex-between-end"><div class="col-auto align-self-center"><h5 class="mb-0">Callings</h5></div></div>',n=v(),s=f("div"),l.c(),_(e,"class","card-header border-bottom"),_(s,"class","card-body"),_(t,"class","card mb-3")},m(a,u){$(a,t,u),d(t,e),d(t,n),d(t,s),l.m(s,null)},p(a,[u]){r===(r=c(a))&&l?l.p(a,u):(l.d(1),l=r(a),l&&(l.c(),l.m(s,null)))},i:z,o:z,d(a){a&&k(t),l.d()}}}function W(o,t,e){let n,s;const{collection:c,loading:r,loadData:l}=P;M(o,r,m=>e(0,n=m));const{collection:a,loading:u,loadData:i}=J;let g=c;M(o,g,m=>e(1,s=m));const y=async()=>{r.set(!0),await i(),await l();const m=D(c),h=D(a),w=m.map(p=>Object.assign(Object.assign({},p),{organization:h.find(b=>b.id===p.organization_id)}));c.set(w)};return G(async()=>await y()),[n,s,r,g]}class X extends S{constructor(t){super(),j(this,t,W,V,H,{})}}function Y(o){let t,e,n;return e=new X({}),{c(){t=f("div"),O(e.$$.fragment),_(t,"slot","content")},m(s,c){$(s,t,c),T(e,t,null),n=!0},p:z,i(s){n||(q(e.$$.fragment,s),n=!0)},o(s){N(e.$$.fragment,s),n=!1},d(s){s&&k(t),E(e)}}}function Z(o){let t,e;return t=new F({props:{$$slots:{content:[Y]},$$scope:{ctx:o}}}),{c(){O(t.$$.fragment)},m(n,s){T(t,n,s),e=!0},p(n,[s]){const c={};s&1&&(c.$$scope={dirty:s,ctx:n}),t.$set(c)},i(n){e||(q(t.$$.fragment,n),e=!0)},o(n){N(t.$$.fragment,n),e=!1},d(n){E(t,n)}}}class at extends S{constructor(t){super(),j(this,t,null,Z,H,{})}}export{at as default};
